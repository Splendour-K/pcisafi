// Load the verified product numbers from localStorage
let verifiedNumbers = JSON.parse(localStorage.getItem('verifiedNumbers')) || [];

// Predefined valid product numbers (this could be fetched from an API or database)
const validProductNumbers = [
    '61759', '12345','28040', '82344', '14474', '36143', '22310', '76747', '89229', '35935', '74956',
    '32874', '92678', '26334', '82273', '11259', '58953', '11981', '75892', '73657', '78991',
    '13038', '92470', '86576', '37001', '41555', '26423', '31921', '44145', '94463', '88195',
    '14263', '69457', '27614', '63695', '52444', '75292', '96940', '29287', '67391', '65051',
    '26659', '28530', '72238', '95302', '74185', '67173', '16794', '53325', '49307', '35837',
    '11831', '10346', '72857', '92633', '22001', '32895', '11037', '39447', '24378', '26471',
    '35990', '57613', '38974', '34757', '42558', '86237', '35041', '29401', '59461', '16219',
    '14553', '41962', '97997', '12124', '85393', '74768', '64368', '23247', '78013', '79197',
    '82510', '60684', '22373', '63325', '22788', '36938', '15571', '69752', '24950', '25397',
    '62594', '94216', '48547', '61238', '88188', '12474', '38499', '85439', '90764', '94372',
    '11068', '40518', '39773', '43995', '35287', '40117', '13227', '34573', '56652', '54819',
    '82777', '25976', '50874', '79767', '58739', '61684', '73697', '48490', '23542', '32880',
    '25394', '41245', '65072', '55317', '15764', '85245', '24325', '42625', '21573', '49678',
    '95634', '83171', '50793', '45159', '60658', '99255', '15562', '26368', '64950', '47462',
    '26752', '34974', '53570', '26134', '99230', '39184', '27083', '36547', '90394', '81876',
    '58234', '61862', '27145', '48634', '74122', '43884', '40471', '23772', '68859', '30418',
    '81995', '65859', '54478', '73240', '20912', '23370', '53160', '35747', '66587', '34055',
    '83518', '39744', '35421', '34256', '55695', '78868', '39239', '85229', '52872', '13793',
    '85831', '30857', '93615', '28297', '86674', '64879', '95692', '53916', '36623', '25319',
    '21167', '31982', '49460', '57362', '83184', '39250', '81957', '63547', '60148', '12381',
    '44582', '95704', '87993', '50349', '22715', '13571', '11517', '40104', '80416', '51797',
    '71084', '39690', '40282', '60274', '65492', '24379', '93977', '39912', '35544', '47396',
    '72412', '27494', '86775', '48792', '18972', '30184', '23629', '58661', '70160', '33268',
    '20471', '58076', '10242', '18716', '82692', '58676', '55111', '33644', '77437', '85581',
    '80197', '39879', '97909', '36513', '38917', '78648', '89952', '92492', '24250', '79793',
    '94555', '22660', '48780', '47494', '68197', '15445', '54642', '21431', '87834', '75452',
    '26861', '22238', '14376', '92295', '33259', '52964', '75592', '68499', '91776', '36902',
    '17039', '72089', '56340', '10853', '82837', '99228', '32357', '46452', '60137', '71702',
    '27930', '30893', '70306', '53042', '78468', '23176', '13993', '69859', '95783', '22795',
    '79722', '12045', '72216', '79881', '21526', '94972', '28524', '79776', '78481', '13680',
    '46721', '41352', '67215', '90763', '34764', '75695', '97541', '97344', '90151', '71130',
    '35292', '58194', '59444', '19587', '61185', '45601', '89095', '47679', '12890', '94517',
    '70911', '37029', '57676', '90217', '38056', '93162', '73629', '64815', '38098', '24850',
    '25130', '25498', '12432', '19104', '17291', '28759', '67567', '11822', '37121', '76780',
    '22916', '12257', '36725', '26256', '72841', '13337', '27292', '75637', '77352', '19782',
    '21185', '53362', '69641', '66409', '50749', '39078', '59116', '14288', '39581', '92699',
    '26418', '76421', '26494', '16525', '87492', '38557', '84871', '25368', '64027', '13366',
    '12115', '50150', '89648', '30562', '68234', '20931', '31729', '93139', '46449', '92958',
    '92762', '84373', '26890', '49278', '13185', '79360', '33636', '77562', '25558', '31032',
    '24942', '50198', '76248', '16956', '82317', '26743', '41909', '51972', '74613', '51765',
    '63190', '70132', '49022', '64227', '14925', '21360', '90524', '49094', '30771', '61810',
    '76407', '34397','12346', '234','123456','1234567','12345678',
];

document.getElementById('validation-form').addEventListener('submit', function(e) {
    e.preventDefault();  // Prevent form from submitting

    const productNumber = document.getElementById('product-number').value.trim();
    const validationResult = document.getElementById('validation-result');

    // Check if the product number is valid
    if (validProductNumbers.includes(productNumber)) {
        // Check if the product number has already been verified
        if (verifiedNumbers.includes(productNumber)) {
            validationResult.textContent = "‚ùå This product number has already been verified. Email: support@pcisafi.com for support";
            validationResult.style.color = 'red';
        } else {
            // Add the product number to the verified list
            verifiedNumbers.push(productNumber);

            // Save the updated verified numbers to localStorage
            localStorage.setItem('verifiedNumbers', JSON.stringify(verifiedNumbers));

            // Display success message
            validationResult.textContent = "‚úÖ Congratulations üéâ! This T-shirt is officially verified by Pcisafi!";
            validationResult.style.color = 'green';

            // Clear the input field after validation
            document.getElementById('product-number').value = '';
        }
    } else {
        // Display error for invalid number
        validationResult.textContent = "‚ùå Invalid Pcisafi product number. Please try again.";
        validationResult.style.color = 'red';
    }
});
